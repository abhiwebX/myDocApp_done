<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hello Doctor</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <style>
      .container {
        display: flex;
        gap: 20px;
        flex-direction: column;
        justify-content: center;
        width: 700px;
        height: fit-content;
      }
      .container > h1 {
        text-align: center;
        margin: 10px;
      }
      textarea {
        border-radius: 5px;
        padding-left: 15px;
        border: 2px solid black;
        box-sizing: border-box;
        justify-content: center;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-light" style="background-color: #e3f2fd">
      <div class="container-fluid">
        <a class="navbar-brand" href="home.html">Hello Doctor</a>
        <form class="d-flex">
          <a class="navbar-brand" href="" id="primarydata"></a>

          <button class="btn btn-outline-success" type="submit">
            <a href="../index.html" id="logpage">logOut</a>
          </button>
        </form>
      </div>
    </nav>
    <figure class="text-center">
      <blockquote class="blockquote">
        <p>Keep Clam And Book Your Appointment Now</p>
      </blockquote>
      <figcaption class="blockquote-footer">
        Hello Doctor<cite title="Source Title"></cite>
      </figcaption>
    </figure>
    <div class="container">
      <h1>Feedback & Review</h1>
      <div class="contain">
        <h4>Feedback</h4>
        <textarea
          name=""
          placeholder="  Add you valuable feedback..."
          cols="90"
          rows="10"
          id="feedbackdata"
        ></textarea>
      </div>
      <div
        class="btns"
        style="
          display: flex;
          flex-direction: row;

          justify-content: space-between;
        "
      >
        <a href="./home.html" class="btn btn-primary">Back</a>
        <button class="btn btn-primary" id="feedbackdone">Submit</button>
      </div>
    </div>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-app.js";
      import {
        getDatabase,
        ref,
        set,
        get,
        child,
      } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-database.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyC9kkGh8iepJA52PMDLmpwVtcrEyh98rek",
        authDomain: "myapp2-bcd98.firebaseapp.com",
        databaseURL: "https://myapp2-bcd98-default-rtdb.firebaseio.com",
        projectId: "myapp2-bcd98",
        storageBucket: "myapp2-bcd98.appspot.com",
        messagingSenderId: "936569646334",
        appId: "1:936569646334:web:3907570ba67433369949af",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      var database = getDatabase();
      let header = localStorage.getItem("primaryKey");
      var username = localStorage.getItem("foriginekey");
      document
        .getElementById("feedbackdone")
        .addEventListener("click", function (e) {
          e.preventDefault();
          let feedback = document.getElementById("feedbackdata").value;

          set(ref(database, "Feedback/" + username), {
            //            username: username,
            feedback: feedback,
          });

          swal("Good job!", " Thanks for feedback", "success");

          document.getElementById("feedbackdata").value = " ";
        });

      document.getElementById("primarydata").innerHTML = header;
      document
        .getElementById("logpage")
        .addEventListener("click", function (e) {
          localStorage.removeItem("primaryKey");
          localStorage.removeItem("foriginekey");
        });
    </script>
  </body>
</html>
